"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[5556],{94918:function(e,r,t){var n=t(50124),a=t(48534),s=t(13087),o=t(62833),i=(t(34338),t(66252)),u=t(79940),c=t(24150),l=function(){function e(){(0,s.Z)(this,e),this.prefix="user-group"}return(0,o.Z)(e,[{key:"usersByGroupId",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("".concat(this.prefix,"/users/").concat(r));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"AddMember",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.post("".concat(this.prefix,"/add-member"),r,{headers:{"Content-type":"multipart/form-data"}});case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,u.F)(e.t0,"UserGroupService.AddMember");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"delete",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.delete("".concat(this.prefix,"/delete/").concat(r));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),(0,i.S3)(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function r(r){return e.apply(this,arguments)}return r}()}]),e}();r.Z=new l},79940:function(e,r,t){t.d(r,{F:function(){return a}});t(70560);var n=t(1120);function a(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";throw console.log("[ERROR] ".concat(r," =>"),e.response.data),404===e.response.data.statusCode?n.Z.push({name:"NotFound"}):403===e.response.data.statusCode&&n.Z.push({name:"NotAuthorized"}),e}},77922:function(e,r,t){t.r(r),t.d(r,{default:function(){return H}});var n=t(66252),a=t(49963),s=t(3577),o=t.p+"img/add-user.df7b2fcd.png",i=t(79885),u={class:"col-sm-12 mt-3"},c=(0,n._)("div",{class:"iq-card-header-toolbar d-flex text-center align-items-center mx-auto"},[(0,n._)("h1",{class:"text-center mt-3 mb-3"},"عضو جديد")],-1),l=(0,n._)("div",{class:"iq-card-body p-4"},[(0,n._)("div",{class:"image-block text-center"},[(0,n._)("img",{src:o,class:"img-fluid rounded w-75",alt:"add-user"})])],-1),d={class:"col-12 bg-white pt-2"},m={class:"sign-in-from"},p=(0,n._)("h1",{class:"mb-0"},"اضافة عضو",-1),f={class:"form-group"},v=(0,n._)("label",{for:"exampleInputEmail1"},"الايميل",-1),h={key:0,style:{color:"red"}},g={key:1,style:{color:"red"}},w={class:"form-group"},b=(0,n._)("option",{value:"0",selected:""},"اختر دور العضو",-1),_=["value"],k={key:0,style:{color:"red"}},x={key:0,class:"form-group text-center"},y={style:{color:"red"}},$={key:1,class:"col-sm-12 text-center"},Z=(0,n._)("p",{class:"text-center"},"جاري الاضافة",-1),q=(0,n._)("img",{src:i,alt:"loader",style:{height:"100px"}},null,-1),D=[Z,q],C={key:2,class:"d-inline-block w-100"},A=(0,n._)("button",{type:"submit",class:"btn btn-primary float-end"}," اضافة ",-1),M=[A];function S(e,r,t,o,i,Z){var q=(0,n.up)("iq-card");return(0,n.wg)(),(0,n.iD)("div",u,[(0,n.Wm)(q,{class:"iq-card"},{default:(0,n.w5)((function(){return[c,l,(0,n._)("div",d,[(0,n._)("div",m,[p,(0,n._)("form",{class:"mt-2",onSubmit:r[2]||(r[2]=(0,a.iM)((function(e){return Z.onSubmit()}),["prevent"]))},[(0,n._)("div",f,[v,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=function(e){return o.v$.form.email.$model=e}),class:"form-control mb-0",id:"exampleInputEmail1",placeholder:"البريد الالكتروني العضو"},null,512),[[a.nr,o.v$.form.email.$model]]),o.v$.form.email.$error?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[o.v$.form.email.required.$invalid?((0,n.wg)(),(0,n.iD)("small",h,"البريد الالكتروني مطلوب")):(0,n.kq)("",!0),o.v$.form.email.email.$invalid?((0,n.wg)(),(0,n.iD)("small",g,"البريد الالكتروني غير صحيح")):(0,n.kq)("",!0)],64)):(0,n.kq)("",!0)]),(0,n._)("div",w,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":r[1]||(r[1]=function(e){return o.v$.form.role_id.$model=e}),class:"form-select","data-trigger":"",name:"choices-single-default",id:"choices-single-default"},[b,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.roles,(function(e,r){return(0,n.wg)(),(0,n.iD)("option",{key:r,value:e.id},(0,s.zw)(i.user_type[e.name]),9,_)})),128))],512),[[a.bM,o.v$.form.role_id.$model]]),o.v$.form.role_id.$error?((0,n.wg)(),(0,n.iD)("small",k," يرجى اختيار دور العضو في المجموعة ")):(0,n.kq)("",!0)]),i.message?((0,n.wg)(),(0,n.iD)("div",x,[(0,n._)("small",y,(0,s.zw)(i.message),1)])):(0,n.kq)("",!0),i.loader?((0,n.wg)(),(0,n.iD)("div",$,D)):((0,n.wg)(),(0,n.iD)("div",C,M))],32)])])]})),_:1})])}var z=t(50124),E=t(48534),F=t(5705),I=t(10760),O=t(94918),R=t(24150),U=function(e){return e>0},V={name:"AddBook",setup:function(){return{v$:(0,F.ZP)()}},created:function(){var e=this;return(0,E.Z)((0,z.Z)().mark((function r(){var t;return(0,z.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,R.hi.get("get-roles/1");case 2:t=r.sent,e.roles=t.data.data;case 4:case"end":return r.stop()}}),r)})))()},data:function(){return{loader:!1,user_type:{ambassador:"سفير",leader:"قائد",supervisor:"مراقب",advisor:"موجه",consultant:"مستشار",admin:"ادارة"},form:{email:"",role_id:0,group_id:this.$route.params.group_id},roles:[],message:""}},methods:{onSubmit:function(){var e=this;return(0,E.Z)((0,z.Z)().mark((function r(){var t;return(0,z.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.v$.$touch(),e.v$.form.$invalid){r.next=21;break}return e.loader=!0,r.prev=3,e.message="",r.next=7,O.Z.AddMember(e.form);case 7:t=r.sent,e.message=t,e.v$.form.$reset(),e.form={email:"",role_id:0,group_id:e.$route.params.group_id},setTimeout((function(){e.message=""}),1800),r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](3),e.message="حدث خطأ",console.log(r.t0);case 18:return r.prev=18,e.loader=!1,r.finish(18);case 21:case"end":return r.stop()}}),r,null,[[3,14,18,21]])})))()}},validations:function(){return{form:{email:{required:I.C1,email:I.Do},role_id:{required:I.C1,maxValue:U}}}}},B=t(83744);const G=(0,B.Z)(V,[["render",S]]);var H=G}}]);
//# sourceMappingURL=5556-legacy.3ce535a9.js.map