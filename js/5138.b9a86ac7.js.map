{"version":3,"file":"js/5138.b9a86ac7.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/group.service.js","webpack://Osboha180/./src/utilities/errors.js","webpack://Osboha180/./src/views/OsbohaMain/Group/GroupsList.vue","webpack://Osboha180/./src/views/OsbohaMain/Group/GroupsList.vue?001d"],"sourcesContent":["import { handleError } from \"vue\";\nimport { api } from \"../Intercepter\";\nimport { customHandleError } from \"../../utilities/errors\";\n\nclass GroupService {\n  async createGroup(groupForm) {\n    try {\n      const response = await api.post(`/group/create`, groupForm, {\n        headers: { \"Content-type\": \"multipart/form-data\" },\n      });\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n  /**\n   * Get all groups.\n   *\n   * @return groups;\n   */\n  async getAll(name,page) {\n    try {\n      const groups = await api.get(`/group?page=${page}&name=${name}`);\n      return await groups.data;\n    } catch (error) {\n      return error;\n    }\n  }\n  /**\n   * Get groups by name.\n   *\n   * @param  group name\n   * @return groups;\n   */\n  async searchGroupByName(name) {\n    try {\n      const groups = await api.get(`group/search-group-by-name/${name}`);\n      return await groups.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * Find an existing group by its id and display it.\n   *\n   * @param  $group_id\n   * @return group info [users , administrators] - posts;\n   */\n\n  async getById(group_id) {\n    try {\n      const group = await api.get(`group/show/${group_id}`);\n      return group.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * Find an existing group by its id and display its basic information.\n   *\n   * @param  $group_id\n   * @return group info;\n   */\n\n  async showBasicInfo(group_id) {\n    try {\n      const group = await api.get(`group/show-basic-info/${group_id}`);\n      return group.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * Get all books belongs to group users.\n   *\n   * @param  $group_id\n   * @return group books;\n   */\n\n  async getBooks(group_id) {\n    try {\n      const books = await api.get(`group/books/${group_id}`);\n      return books.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  /**\n   * List all exceptions in a group by group Administrators\n   *\n   * @param $group_id\n   * @return group exceptions\n   */\n\n  async getAllGroupExceptions(group_id) {\n    try {\n      const groupExceptions = await api.get(\n        `group/group-exceptions/${group_id}`\n      );\n      return groupExceptions.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * Filter group exceptions.\n   *\n   * @param  exception filter , group _id\n   * @return filterd group exceptions\n   */\n\n  async exceptionsFilter(filter, group_id) {\n    try {\n      const exceptions = await api.get(\n        `group/exceptions-filter/${filter}/${group_id}`\n      );\n      return exceptions.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * Basic group marks.\n   *\n   * @param  group _id\n   * @return group info , week satistics [100 - 0 -incomplete - most read]\n   */\n\n  async BasicMarksView(group_id,week_id) {\n    try {\n      const BasicMarksView = await api.get(`group/basic-mark-view/${group_id}/${week_id}`);\n      return BasicMarksView.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * all ambassadors achievments.\n   *\n   * @param  group _id , week filter [current - previous ]\n   * @return ambassadors achievments\n   */\n  async AllAchievements(group_id, week_id) {\n    try {\n      const response = await api.get(\n        `group/all-achievements/${group_id}/${week_id}`\n      );\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * all ambassadors achievments as pages, order by total pages desc.\n   *\n   * @param  group _id , week filter [current - previous ]\n   * @return ambassadors achievments as total pages\n   */\n  async AchievementAsPages(group_id, week_id) {\n    try {\n      const response = await api.get(\n        `group/achievement-as-pages/${group_id}/${week_id}`\n      );\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * ambassador achievment in a week\n   *\n   * @param  ambassador_name, group _id , week filter [current - previous ]\n   * @return ambassador achievment\n   */\n\n  async searchForAmbassadorAchievement(ambassador_name, group_id, week_filter) {\n    try {\n      const response = await api.get(\n        `group/search-for-ambassador-achievement/${ambassador_name}/${group_id}/${week_filter}`\n      );\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * search for ambassador in group\n   *\n   * @param  ambassador_name, group _id\n   * @return ambassador achievment\n   */\n\n  async searchForAmbassador(ambassador_name, group_id) {\n    try {\n      const response = await api.get(\n        `group/search-for-ambassador/${ambassador_name}/${group_id}`\n      );\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * Add a new leader request (“create RequestAmbassador” permission is required)\n   *\n   * @param  request information [gender - number of requested members]\n  \n   */\n  async createLeaderRequest(request) {\n    try {\n      const response = await api.post(`/group/create-leader-request`, request, {\n        headers: { \"Content-type\": \"multipart/form-data\" },\n      });\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * get last leader ambassador request\n   *\n   * @param  $group id\n   * @return last request;\n   */\n\n  async lastLeaderRequest(group_id) {\n    try {\n      const response = await api.get(`group/last-leader-request/${group_id}`);\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async deleteById(group_id) {\n    try {\n      return await api.delete(`/group/delete/${group_id}`);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async update(groupForm) {\n    try {\n      const response = await api.post(`/group/update`, groupForm, {\n        headers: { \"Content-type\": \"multipart/form-data\" },\n      });\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  async getGroupByType(type) {\n    try {\n      const groups=  await api.get(`/group/group-by-type/${type}`);\n      return groups.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n  async userGroups(name,page) {\n    try {\n      const groups = await api.get(`/group/user-groups?page=${page}&name=${name}`);\n      return groups.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /*\n    **** Need to discuss ****\n    async addMember(body) {\n        try {\n            const groups = await api.post('/user-group/', body);\n            return groups.data\n        } catch (error) {\n            return error.response.data.data\n        }\n    }\n    */\n  /**\n   * get group week statistics\n   *\n   * @param  $group_id\n   * @return statistics;\n   */\n\n  async statistics(group_id) {\n    try {\n      const response = await api.get(`group/statistics/${group_id}`);\n      return response.data.data;\n    } catch (error) {\n      customHandleError(error, \"statistics\");\n    }\n  }\n  /**\n   * get screenshots and screens by week\n   *\n   * @param  $group_id,$filter\n   * @return number of theses and screenshots;\n   */\n  async thesesAndScreensByWeek(group_id, filter) {\n    try {\n      const response = await api.get(\n        `group/theses-and-screens-by-week/${group_id}/${filter}`\n      );\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n  /**\n   * get avg in a month\n   *\n   * @param  $group_id,$filter\n   * @return month achievement;\n   */\n  async monthAchievement(group_id, filter) {\n    try {\n      const response = await api.get(\n        `group/month-achievement/${group_id}/${filter}`\n      );\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n  async assignAdministrator(form) {\n    try {\n      const response = await api.post(`/group/assign-administrator`, form, {\n        headers: { \"Content-type\": \"multipart/form-data\" },\n      });\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  \n}\n\nexport default new GroupService();\n","import router from \"../router\";\n\nexport function customHandleError(error, page = \"\") {\n  console.log(`[ERROR] ${page} =>`, error.response.data);\n  if (error.response.data.statusCode === 404) {\n    router.push({ name: \"NotFound\" });\n  } else if (error.response.data.statusCode === 403) {\n    router.push({ name: \"NotAuthorized\" });\n  }\n  throw error;\n}\n","<template>\n  <div ref=\"listContainer\">\n    <div class=\"row\">\n      <div class=\"col-sm-12\">\n        <iq-card>\n          <template v-slot:headerTitle>\n            <h4 class=\"card-title\" v-if=\"groups && groups.length > 0\">قائمة المجموعات - {{ groups.length }}</h4>\n            <h4 class=\"card-title\" v-else>قائمة المجموعات - 0</h4>\n          </template>\n\n          <template v-slot:body>\n            <div class=\"mt-3 inputs mb-3\">\n              <i class=\"material-symbols-outlined\">\n                search\n              </i>\n              <input type=\"text\" class=\"form-control\" placeholder=\" ... ابحث عن مجموعة\" v-model.trim=\"searchModel\"\n                @keyup=\"debouncedSearch\" />\n            </div>\n            <router-link class=\"mb-3 btn btn-primary float-end\" :to=\"{\n              name: 'group.addGroup',\n            }\">\n              اضافة مجموعة\n            </router-link>\n\n\n            <div class=\"table-responsive\" v-if=\"groups && groups.length > 0\">\n              <table id=\"datatable\" class=\"table table-striped table-bordered\">\n                <thead>\n                  <tr>\n                    <th>اسم المجموعة</th>\n                    <th>نوع المجموعة</th>\n                    <th>عدد الاعضاء</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"(group, index) in groups\" :key=\"index\">\n                    <td>\n                      <router-link class=\"text-center\" :to=\"{\n                        name: 'group.group-detail',\n                        params: { group_id: group.id },\n                      }\">\n                        {{ group.name }}\n                      </router-link>\n                    </td>\n                    <td>\n                      {{ group_type[group.type.type] }}\n                    </td>\n                    <td>\n                      {{ group.users_count }}\n                    </td>\n\n                    <td v-if=\"isAdmin\">\n                      <router-link class=\"text-primary material-symbols-outlined ms-1 me-1\" :to=\"{\n                        name: 'group.update',\n                        params: { group_id: group.id },\n                      }\">\n\n                        edit\n                      </router-link>\n                      <span role=\"button\" @click=\"deleteGroup(group.id)\"\n                        class=\"text-danger material-symbols-outlined ms-1 me-1\">\n                        delete\n                      </span>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n            <div v-else>\n              <h4>\n                {{ emptyMessage }}\n                <span class=\"material-symbols-outlined align-middle\">\n                  info\n                </span>\n              </h4>\n            </div>\n\n            <div class=\"col-sm-12 text-center\" v-if=\"loading\">\n              <img :src=\"require('@/assets/images/page-img/page-load-loader.gif')\" alt=\"loader\" style=\"height: 100px\" />\n            </div>\n\n          </template>\n        </iq-card>\n\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport GroupService from \"@/API/services/group.service\";\nimport helper from \"@/utilities/helper\";\nimport UserInfoService from \"@/Services/userInfoService\";\nimport axios from \"axios\";\n\n\nexport default {\n  name: \"Groups List\",\n  created() {\n    // Debounce the searchGroup method\n    this.debouncedSearch = this.debounce(this.loadGroups, 300);\n  },\n  async mounted() {\n    this.loadGroups();\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n    this.cancelToken.cancel();\n  },\n\n  data() {\n    return {\n      groups: [],\n      group_type: {\n        followup: \"فريق متابعة\",\n        supervising: \"فريق رقابة\",\n        advising: \"فريق توجيه\",\n        consultation: \"فريق الاستشارة\",\n        Administration: \"الإدارة العليا\",\n      },\n      searchModel: \"\",\n      page: 1,\n      totalPages: 1,\n      loading: false,\n      pendingRequest: false,\n      hasMore: true,\n      emptyMessage: \"\",\n      cancelToken: axios.CancelToken.source(),\n\n    };\n  },\n\n  methods: {\n    async deleteGroup(id) {\n      const swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-primary btn-lg\",\n          cancelButton: \"btn btn-outline-primary btn-lg ms-2\",\n        },\n        buttonsStyling: false,\n      });\n\n      swalWithBootstrapButtons\n        .fire({\n          title: \"هل أنت متأكد؟\",\n          text: \"لا يمكنك التراجع عن هذا الاجراء\",\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonText: \"نعم، قم بالحذف\",\n          cancelButtonText: \"تراجع  \",\n          showClass: {\n            popup: \"animate__animated animate__zoomIn\",\n          },\n          hideClass: {\n            popup: \"animate__animated animate__zoomOut\",\n          },\n        })\n        .then(async (willDelete) => {\n          if (willDelete.isConfirmed) {\n            const response = await GroupService.deleteById(id)\n              .then(async (response) => {\n                const groups = await GroupService.getAll();\n                this.groups = groups.data;\n                helper.toggleToast(\"تم الحذف\", \"success\");\n              })\n              .catch((error) => {\n                helper.toggleToast(\"حصل خطأ - لم يتم الحذف!\", \"danger\");\n                console.log(error);\n              });\n          }\n        });\n    },\n    async loadGroups() {\n      if (this.pendingRequest) {\n        return;\n      }\n\n      if (this.searchModel == '' && this.groups.length == 0) {\n        this.page = 1;\n      }\n      if (this.searchModel != '') {\n        this.page = 1;\n        this.groups = []\n      }\n\n      this.pendingRequest = true;\n      this.loading = true;\n      this.emptyMessage = \"\"\n      try {\n        let response;\n        response = await GroupService.getAll(this.searchModel,\n          this.page,\n          this.cancelToken\n        );\n        if (response.statusCode !== 200) {\n          helper.toggleToast(\n            \"حدث خطأ أثناء تحميل المجموعات, حاول مرة أخرى\",\n            \"error\"\n          );\n          return;\n        }\n\n        if (response.statusCode === 200 && !response.data) {\n          this.emptyMessage = \"لا يوجد مجموعات\";\n          this.hasMore = false;\n          return;\n        }\n\n        this.groups = [...this.groups, ...response.data.groups.data];\n        this.totalPages = response.data?.last_page ?? 1;\n        this.page++;\n      } catch (error) {\n        console.log(error)\n        helper.toggleToast(\n          \"حدث خطأ أثناء تحميل المجموعات, حاول مرة أخرى\",\n          \"error\"\n        );\n      } finally {\n        this.loading = false;\n        this.pendingRequest = false;\n\n      }\n    },\n    /**\n     * Check if the user has scrolled to the bottom of the page\n     * @returns {boolean}\n     */\n    isAtBottomOfPage() {\n      const containerRect = this.$refs.listContainer.getBoundingClientRect();\n      const containerBottom = containerRect.bottom;\n      const windowHeight = window.innerHeight;\n      return containerBottom >= windowHeight;\n    },\n    /*\n     * Load more groups when the user scrolls to the bottom of the page\n     */\n    handleScroll() {\n      if (this.hasMoreToLoad && this.isAtBottomOfPage()) {\n        this.loadGroups();\n      }\n    },\n    debounce(func, wait) {\n      let timeout;\n      return function (...args) {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n          func.apply(this, args);\n        }, wait);\n      };\n    }\n\n  },\n  computed: {\n    user() {\n      return this.$store.getters.getUser;\n    },\n    isAdmin() {\n      return UserInfoService.hasRole(this.user, \"admin\");\n    },\n    hasMoreToLoad() {\n      return this.page <= this.totalPages && this.hasMore;\n    },\n  }\n};\n\n\n</script>\n\n<style lang=\"scss\" scoped>\n.inputs {\n  position: relative;\n}\n\n.form-control {\n  text-indent: 15px;\n  border: none;\n  height: 45px;\n  border-radius: 0px;\n  border-bottom: 1px solid #eee;\n}\n\n.form-control:focus {\n  color: #495057;\n  background-color: #fff;\n  border-color: #eee;\n  outline: 0;\n  box-shadow: none;\n  border-bottom: 1px solid blue;\n}\n\n.form-control:focus {\n  color: blue;\n}\n\n.inputs i {\n  position: absolute;\n  top: 14px;\n  left: 4px;\n  color: #b8b9bc;\n}\n</style>\n","import { render } from \"./GroupsList.vue?vue&type=template&id=ddaae88c&scoped=true\"\nimport script from \"./GroupsList.vue?vue&type=script&lang=js\"\nexport * from \"./GroupsList.vue?vue&type=script&lang=js\"\n\nimport \"./GroupsList.vue?vue&type=style&index=0&id=ddaae88c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ddaae88c\"]])\n\nexport default __exports__"],"names":["GroupService","createGroup","groupForm","response","api","post","headers","data","error","handleError","getAll","name","page","groups","get","searchGroupByName","getById","group_id","group","showBasicInfo","getBooks","books","getAllGroupExceptions","groupExceptions","exceptionsFilter","filter","exceptions","BasicMarksView","week_id","AllAchievements","AchievementAsPages","searchForAmbassadorAchievement","ambassador_name","week_filter","searchForAmbassador","createLeaderRequest","request","lastLeaderRequest","deleteById","delete","update","getGroupByType","type","userGroups","statistics","customHandleError","thesesAndScreensByWeek","monthAchievement","assignAdministrator","form","console","log","statusCode","router","push","ref","class","_createElementVNode","id","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_iq_card","headerTitle","_withCtx","$data","length","_hoisted_4","_toDisplayString","_hoisted_5","body","_hoisted_6","_hoisted_7","placeholder","searchModel","$event","onKeyup","_cache","args","_ctx","debouncedSearch","_component_router_link","to","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","_renderList","index","key","group_type","users_count","$options","isAdmin","_hoisted_11","role","onClick","deleteGroup","_hoisted_12","_hoisted_13","emptyMessage","_hoisted_14","loading","_hoisted_15","src","require","alt","style","created","this","debounce","loadGroups","mounted","window","addEventListener","handleScroll","beforeUnmount","removeEventListener","cancelToken","cancel","followup","supervising","advising","consultation","Administration","totalPages","pendingRequest","hasMore","axios","source","methods","swalWithBootstrapButtons","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","then","async","willDelete","isConfirmed","helper","toggleToast","catch","_response$data$last_p","_response$data","last_page","isAtBottomOfPage","containerRect","$refs","listContainer","getBoundingClientRect","containerBottom","bottom","windowHeight","innerHeight","hasMoreToLoad","func","wait","timeout","clearTimeout","setTimeout","apply","computed","user","$store","getters","getUser","UserInfoService","hasRole","__exports__","render"],"sourceRoot":""}