"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[1222],{22658:function(e,a,t){var r=t(66252),s=t(24150),o=t(79940);class i{async createGroup(e){try{const a=await s.hi.post("/group/create",e,{headers:{"Content-type":"multipart/form-data"}});return a.data.data}catch(a){(0,r.S3)(a)}}async getAll(e,a){try{const t=await s.hi.get(`/group?page=${a}&name=${e}`);return await t.data}catch(t){return t}}async searchGroupByName(e){try{const a=await s.hi.get(`group/search-group-by-name/${e}`);return await a.data}catch(a){return a}}async getById(e){try{const a=await s.hi.get(`group/show/${e}`);return a.data.data}catch(a){return a}}async showBasicInfo(e){try{const a=await s.hi.get(`group/show-basic-info/${e}`);return a.data.data}catch(a){return a}}async getBooks(e){try{const a=await s.hi.get(`group/books/${e}`);return a.data.data}catch(a){(0,r.S3)(a)}}async getAllGroupExceptions(e){try{const a=await s.hi.get(`group/group-exceptions/${e}`);return a.data.data}catch(a){return a}}async exceptionsFilter(e,a){try{const t=await s.hi.get(`group/exceptions-filter/${e}/${a}`);return t.data.data}catch(t){return t}}async BasicMarksView(e,a){try{const t=await s.hi.get(`group/basic-mark-view/${e}/${a}`);return t.data.data}catch(t){return t}}async AllAchievements(e,a){try{const t=await s.hi.get(`group/all-achievements/${e}/${a}`);return t.data.data}catch(t){return t}}async AchievementAsPages(e,a){try{const t=await s.hi.get(`group/achievement-as-pages/${e}/${a}`);return t.data.data}catch(t){return t}}async searchForAmbassadorAchievement(e,a,t){try{const r=await s.hi.get(`group/search-for-ambassador-achievement/${e}/${a}/${t}`);return r.data.data}catch(r){return r}}async searchForAmbassador(e,a){try{const t=await s.hi.get(`group/search-for-ambassador/${e}/${a}`);return t.data.data}catch(t){return t}}async createLeaderRequest(e){try{const a=await s.hi.post("/group/create-leader-request",e,{headers:{"Content-type":"multipart/form-data"}});return a.data.data}catch(a){return a}}async lastLeaderRequest(e){try{const a=await s.hi.get(`group/last-leader-request/${e}`);return a.data.data}catch(a){return a}}async deleteById(e){try{return await s.hi.delete(`/group/delete/${e}`)}catch(a){return a}}async update(e){try{const a=await s.hi.post("/group/update",e,{headers:{"Content-type":"multipart/form-data"}});return a.data.data}catch(a){(0,r.S3)(a)}}async getGroupByType(e){try{const a=await s.hi.get(`/group/group-by-type/${e}`);return a.data.data}catch(a){return a}}async userGroups(e,a){try{const t=await s.hi.get(`/group/user-groups?page=${a}&name=${e}`);return t.data}catch(t){return t}}async statistics(e){try{const a=await s.hi.get(`group/statistics/${e}`);return a.data.data}catch(a){(0,o.F)(a,"statistics")}}async thesesAndScreensByWeek(e,a){try{const t=await s.hi.get(`group/theses-and-screens-by-week/${e}/${a}`);return t.data.data}catch(t){(0,r.S3)(t)}}async monthAchievement(e,a){try{const t=await s.hi.get(`group/month-achievement/${e}/${a}`);return t.data.data}catch(t){(0,r.S3)(t)}}async assignAdministrator(e){try{const a=await s.hi.post("/group/assign-administrator",e,{headers:{"Content-type":"multipart/form-data"}});return a.data.data}catch(a){(0,r.S3)(a)}}}a.Z=new i},79940:function(e,a,t){t.d(a,{F:function(){return s}});t(70560);var r=t(1120);function s(e,a=""){throw console.log(`[ERROR] ${a} =>`,e.response.data),404===e.response.data.statusCode?r.Z.push({name:"NotFound"}):403===e.response.data.statusCode&&r.Z.push({name:"NotAuthorized"}),e}},25435:function(e,a,t){t.d(a,{Z:function(){return g}});var r=t(66252),s=t(3577);const o={class:"d-flex align-items-center justify-content-between w-100"},i={class:"ms-3"},n={class:"mb-0"},d={class:"card-header-toolbar d-flex align-items-center"},c=(0,r._)("i",{class:"material-symbols-outlined md-18 me-1 text-primary"}," visibility ",-1);function u(e,a,t,u,l,m){var p,g,h;const _=(0,r.up)("BaseAvatar"),b=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(_,{profileImg:null===(p=t.record.user_profile)||void 0===p?void 0:p.profile_picture,profile_id:null===(g=t.record.user_profile)||void 0===g?void 0:g.id,title:t.record.name,gender:t.record.gender,avatarClass:"rounded-circle avatar-40"},null,8,["profileImg","profile_id","title","gender"]),(0,r._)("div",o,[(0,r._)("div",i,[(0,r._)("h6",null,(0,s.zw)(t.record.name),1),(0,r._)("p",n," عدد الصفحات: "+(0,s.zw)((null===(h=t.record.mark)||void 0===h?void 0:h.length)>0?t.record.mark[0].total_pages:0),1)]),(0,r._)("div",d,[(0,r.Wm)(b,{to:{name:"group.listOneAmbassadorReading",params:{ambassador_id:t.record.id,week_id:t.week_id}}},{default:(0,r.w5)((()=>[c])),_:1},8,["to"])])])],64)}var l={name:"Achievement Pages",props:{record:{type:[Object],required:!0},week_id:{type:[Number],required:!0}},data(){return{}}},m=t(83744);const p=(0,m.Z)(l,[["render",u]]);var g=p},94525:function(e,a,t){t.d(a,{Z:function(){return b}});var r=t(66252),s=t(3577);const o={class:"d-flex align-items-center w-100 row"},i={class:"col-lg-3 col-md-3 col-sm-12 ms-3"},n={class:"d-inline-block"},d={class:"col-lg-5 col-md-5 col-sm-12 form-check mt-2"},c={class:"d-block w-100"},u={class:"progress"},l={class:"col-lg-3 col-md-3 col-sm-12 text-center"},m=["disabled"];function p(e,a,t,p,g,h){const _=(0,r.up)("BaseAvatar"),b=(0,r.up)("router-link");return t.ambassador?((0,r.wg)(),(0,r.iD)("li",{key:0,class:"d-flex align-items-center p-3",style:(0,s.j5)(`cursor: ${h.cursorStyle(t.ambassador.mark)}`)},[(0,r.Wm)(_,{profileImg:t.ambassador.user_profile.profile_picture,profile_id:t.ambassador.user_profile.id,title:t.ambassador.name,gender:t.ambassador.gender,avatarClass:"rounded-circle avatar-40"},null,8,["profileImg","profile_id","title","gender"]),(0,r._)("div",o,[(0,r._)("div",i,[(0,r._)("h6",n,[(0,r._)("strong",null,(0,s.zw)(t.ambassador.name),1)])]),(0,r._)("div",d,[(0,r._)("div",c,[(0,r._)("div",u,[t.ambassador.mark.length>0&&t.ambassador.mark[0].is_freezed?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,s.C_)([`${h.markClass(-1)}`,"progress-bar progress-bar-striped"]),role:"progressbar","aria-valuenow":"90","aria-valuemin":"0","aria-valuemax":"100",style:"width: 100%;"},null,2)):((0,r.wg)(),(0,r.iD)("div",{key:1,class:(0,s.C_)([`${h.markClass(h.getMark(t.ambassador.mark))}`,"progress-bar progress-bar-striped"]),role:"progressbar","aria-valuenow":"90","aria-valuemin":"0","aria-valuemax":"100",style:(0,s.j5)(`width: ${h.getMark(t.ambassador.mark)}%;`)},null,6))])])]),(0,r._)("div",l,[(0,r.Wm)(b,{to:{name:"group.listOneAmbassadorReading",params:{ambassador_id:t.ambassador.id,week_id:t.week_id}}},{default:(0,r.w5)((()=>[(0,r._)("button",{class:(0,s.C_)(["badge ms-0 ms-md-3 my-1 my-md-0 w-75 text-center border-0 outline-none",{"bg-primary":t.ambassador.mark.length>0,"bg-secondary":0==t.ambassador.mark.length}]),disabled:0==t.ambassador.mark.length,style:(0,s.j5)(`cursor: ${h.cursorStyle(t.ambassador.mark)}`)}," عرض ",14,m)])),_:1},8,["to"])])])],4)):(0,r.kq)("",!0)}var g={name:"Achievement Progress",props:{ambassador:{type:[Object],required:!0},week_id:{type:[Number],required:!0}},data(){return{}},methods:{markClass(e){switch(e){case-1:return"freeze";case 100:return"full-mark";case 0:return"zero-mark";default:return"incomplete"}},getMark(e){if((null===e||void 0===e?void 0:e.length)>0)return e[0].reading_mark+e[0].writing_mark+e[0].support},cursorStyle(e){return 0==(null===e||void 0===e?void 0:e.length)?"not-allowed":"pointer"}}},h=t(83744);const _=(0,h.Z)(g,[["render",p],["__scopeId","data-v-3839d29e"]]);var b=_},99260:function(e,a,t){t.d(a,{Z:function(){return m}});var r=t(66252),s=t(3577);const o={class:"card position-relative inner-page-bg",style:{direction:"rtl !important","background-color":"#cae0cd",height:"100px"}},i={class:"inner-page-title"},n={class:"text-dark"};function d(e,a,t,d,c,u){return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",i,[(0,r._)("h3",n,"فريق المتابعة || "+(0,s.zw)(t.group_name),1),(0,r._)("p",null,[(0,r.Uk)(" عدد السفراء "),(0,r._)("strong",null,(0,s.zw)(t.group_users),1)])])])}var c={name:"Group Title",props:{group_name:{type:[String],required:!0},group_users:{type:[Number],required:!0}},data(){return[]}},u=t(83744);const l=(0,u.Z)(c,[["render",d]]);var m=l},61222:function(e,a,t){t.r(a),t.d(a,{default:function(){return ce}});var r=t(66252),s=t(84621);const o={key:0,class:"row"},i={class:"col-lg-3"},n={class:"col-lg-9"},d={key:1,class:"row"},c={class:"iq-card-body p-0"},u=(0,r._)("div",{class:"image-block text-center"},[(0,r._)("img",{src:s,class:"img-fluid rounded w-75 mt-3",alt:"no-amb"})],-1),l=(0,r._)("h4",{class:"text-center mt-3 mb-3"},"لا يوجد سفراء في هذه المجموعة",-1),m={class:"d-inline-block w-100 text-center col-12"},p=(0,r._)("span",null,"عودة",-1),g=(0,r._)("span",{class:"align-middle material-symbols-outlined"}," keyboard_return ",-1),h=[p,g];function _(e,a,t,s,p,g){const _=(0,r.up)("StatisticsList"),b=(0,r.up)("AmbassadorsAchievement"),y=(0,r.up)("iq-card");return p.group_users>0?((0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",i,[(0,r.Wm)(_,{categoryList:p.categories},null,8,["categoryList"])]),(0,r._)("div",n,[(0,r.Wm)(b,{ambassadorsAchievementList:p.ambassadorsAchievementList,group_id:p.group.id,week_id:p.week_id,group_name:p.group.name,group_users:p.group_users,most_read:p.most_read},null,8,["ambassadorsAchievementList","group_id","week_id","group_name","group_users","most_read"])])])):((0,r.wg)(),(0,r.iD)("div",d,[(0,r.Wm)(y,{class:"iq-card"},{default:(0,r.w5)((()=>[(0,r._)("div",c,[u,l,(0,r._)("div",m,[(0,r._)("a",{role:"button",onClick:a[0]||(a[0]=a=>e.$router.go(-1)),class:"d-block mt-3 mb-3 w-75 mx-auto"},h)])])])),_:1})]))}var b=t(3577);const y={class:"iq-todo-page"},w={class:"todo-task-list p-0 m-0"},v={class:"d-flex align-items-center justify-content-between"},k={class:"d-flex"},f={class:"container mt-3 d-flex align-items-center justify-content-center"},$=(0,r._)("i",{class:"material-symbols-outlined md-18 me-1"},"insights",-1);function A(e,a,t,s,o,i){const n=(0,r.up)("Doughnut"),d=(0,r.up)("router-link"),c=(0,r.up)("iq-card");return(0,r.wg)(),(0,r.j4)(c,null,{body:(0,r.w5)((()=>[(0,r._)("div",y,[(0,r._)("ul",w,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.categoryList,((e,a)=>((0,r.wg)(),(0,r.iD)("li",{key:a},[(0,r._)("a",v,[(0,r._)("div",k,[(0,r._)("i",{class:(0,b.C_)("material-symbols-outlined"),style:(0,b.j5)(`color:${e.color}`)},"bolt",4),(0,r._)("h5",null,(0,b.zw)(e.name),1)]),(0,r._)("div",{class:"d-inline p-2 text-light float-end rounded",style:(0,b.j5)(`background-color:${e.color}`)},(0,b.zw)(e.number),5)])])))),128))]),(0,r._)("div",f,[(0,r.Wm)(n,{id:"my-chart-id",options:o.chartOptions,data:o.chartData},null,8,["options","data"])]),(0,r.Wm)(d,{to:{name:"group.group-statistics",params:{group_id:this.$route.params.group_id}},class:"btn d-flex align-items-center mt-3 text-white",style:{"background-color":"#2e328b"}},{default:(0,r.w5)((()=>[$,(0,r.Uk)(" احصائيات الأسبوع ")])),_:1},8,["to"])])])),_:1})}var x=t(32005),D=t(65750);D.kL.register(D.Dx,D.u,D.De,D.ZL,D.uw,D.f$,D.qi);var q={name:"StatisticsList",created(){this.chartData.datasets[0].data[0]=this.categoryList[0].number,this.chartData.datasets[0].data[1]=this.categoryList[1].number,this.chartData.datasets[0].data[2]=this.categoryList[2].number},props:["categoryList"],components:{Doughnut:x.$I},data(){return{search:"",project:{id:0,project_name:""},chartData:{labels:["100","90","صفر"],datasets:[{label:"معدل الأسبوع",data:[20,7,3],backgroundColor:["#22803f","#192f36","#831018"],hoverOffset:4}]},chartOptions:{responsive:!0}}}},L=t(83744);const Z=(0,L.Z)(q,[["render",A]]);var j=Z,C=t(49963);const W={class:"row"},S={class:"col-md-8"},O={class:"todo-task-lists m-0 p-0"},B={class:"input-group w-100 m-auto p-2"},z=(0,r._)("button",{type:"button",class:"btn btn-outline-primary"},[(0,r._)("span",{class:"material-symbols-outlined lh-1"}," search ")],-1),R={key:0,class:"d-block text-center text-danger my-3 py-3"},I={class:"d-block text-center mb-0 pb-0"},N=(0,r._)("span",{class:"me-3 btn",role:"button"},"عرض جميع الانجازات",-1);function F(e,a,t,s,o,i){const n=(0,r.up)("GroupTitle"),d=(0,r.up)("AchievementProgress"),c=(0,r.up)("router-link"),u=(0,r.up)("iq-card"),l=(0,r.up)("MostRead");return(0,r.wg)(),(0,r.iD)("div",W,[(0,r._)("div",S,[(0,r.Wm)(u,{"body-class":"p-0"},{body:(0,r.w5)((()=>[(0,r.Wm)(n,{"group_id:":t.group_id,group_name:t.group_name,group_users:t.group_users},null,8,["group_id:","group_name","group_users"]),(0,r._)("ul",O,[(0,r._)("form",null,[(0,r._)("div",B,[(0,r.wy)((0,r._)("input",{type:"search",class:"form-control rounded",placeholder:"ابحث عن سفير","aria-label":"Search","aria-describedby":"search-addon",onInput:a[0]||(a[0]=e=>i.searchForAmbassadorAchievement()),"onUpdate:modelValue":a[1]||(a[1]=e=>o.ambassador_name=e)},null,544),[[C.nr,o.ambassador_name]]),z])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.achievementList,((e,a)=>((0,r.wg)(),(0,r.j4)(d,{key:a,ambassador:e,week_id:t.week_id},null,8,["ambassador","week_id"])))),128)),o.achievementList&&0!=o.achievementList.length?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("li",R," لا يوجد انجازات لهذا الاسبوع ")),(0,r._)("li",I,[(0,r.Wm)(c,{to:{name:"group.listAllAmbassadorAchievements",params:{group_id:t.group_id,week_id:t.week_id}}},{default:(0,r.w5)((()=>[N])),_:1},8,["to"])])])])),_:1})]),t.most_read?((0,r.wg)(),(0,r.j4)(l,{key:0,most_read:t.most_read,week_id:t.week_id},null,8,["most_read","week_id"])):(0,r.kq)("",!0)])}var G=t(99260),M=t(94525);const P={class:"col-md-4"},T={class:"iq-todo-right"},H={key:0,class:"iq-todo-friendlist mt-3"},U={class:"suggestions-lists m-0 p-0"},Y={class:"container mt-3 mb-3 d-flex align-items-center justify-content-center",hight:"200px"},K=(0,r._)("i",{class:"material-symbols-outlined md-18 me-1"}," patient_list ",-1),V={key:1},E=(0,r._)("div",{class:"d-block text-center text-danger my-3 py-3"}," لا يوجد إحصائيات حالياً ",-1),Q=[E];function J(e,a,t,s,o,i){const n=(0,r.up)("AchievementPages"),d=(0,r.up)("Bar"),c=(0,r.up)("router-link"),u=(0,r.up)("iq-card");return(0,r.wg)(),(0,r.iD)("div",P,[(0,r.Wm)(u,null,{body:(0,r.w5)((()=>[(0,r._)("div",T,[t.most_read&&t.most_read.length>0?((0,r.wg)(),(0,r.iD)("div",H,[(0,r._)("ul",U,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.most_read.slice(0,2),((e,a)=>((0,r.wg)(),(0,r.iD)("li",{class:"d-flex mb-4 align-items-center",key:a},[(0,r.Wm)(n,{record:e,week_id:t.week_id},null,8,["record","week_id"])])))),128))]),(0,r._)("div",Y,[(0,r.Wm)(d,{id:"my-chart-id",options:o.chartOptions,data:o.chartData,height:500,width:500},null,8,["options","data"])]),(0,r.Wm)(c,{to:{name:"group.achievementAsPages",params:{group_id:o.group_id}},class:"btn text-white d-flex align-items-center",style:{"background-color":"#2e328b"}},{default:(0,r.w5)((()=>[K,(0,r.Uk)(" عرض الكل ")])),_:1},8,["to"])])):((0,r.wg)(),(0,r.iD)("div",V,Q))])])),_:1})])}var X=t(25435);D.kL.register(D.Dx,D.u,D.De,D.ZL,D.uw,D.f$,D.qi);var ee={name:"Most Read",components:{Bar:x.$Q,AchievementPages:X.Z},created(){if(this.most_read)for(let e=0;e<this.most_read.length;e++)this.chartData.datasets[0].data[e]=this.most_read[e].total_pages,this.chartData.labels[e]=this.most_read[e].user.name},props:{most_read:{type:[Object],required:!0},week_id:{type:[Number],required:!0}},data(){return{group_id:this.$route.params.group_id,chartData:{labels:[],datasets:[{label:"قراءة السفراء",backgroundColor:"#1d1a55",data:[],borderWidth:2,borderRadius:5,borderSkipped:!1}]},chartOptions:{responsive:!0}}}};const ae=(0,L.Z)(ee,[["render",J]]);var te=ae,re=t(22658);D.kL.register(D.Dx,D.u,D.De,D.ZL,D.uw,D.f$,D.qi);var se={name:"General Achievment",components:{GroupTitle:G.Z,MostRead:te,AchievementProgress:M.Z},created(){this.achievementList=this.ambassadorsAchievementList},props:{ambassadorsAchievementList:{type:[Object],default:()=>{}},category:{type:[Object],required:!0},group_id:{type:[Number],required:!0},week_id:{type:[Number],required:!0},group_name:{type:[String],required:!0},group_users:{type:[Number],required:!0},most_read:{type:[Object],required:!0}},data(){return{achievementList:[],ambassador_name:"",show:!1}},methods:{async searchForAmbassadorAchievement(){const e=await re.Z.searchForAmbassadorAchievement(this.ambassador_name,this.$route.params.group_id,"current");this.achievementList=e.ambassador_achievement}}};const oe=(0,L.Z)(se,[["render",F]]);var ie=oe,ne={name:"Team Reading Info",async created(){try{const e=await re.Z.BasicMarksView(this.group_id,this.week_id);this.group=e.group,this.group_users=e.group_users,this.categories[0].number=e.full,this.categories[1].number=e.incomplete,this.categories[2].number=e.zero,this.ambassadorsAchievementList=e.random_achievement,this.most_read=e.most_read}catch(e){console.log(e)}},components:{StatisticsList:j,AmbassadorsAchievement:ie},data(){return{group_id:this.$route.params.group_id,week_id:this.$route.params.week_id,group:[],group_users:0,categories:[{id:1,name:"انجاز كامل",color:"#22803f",number:20},{id:2,name:"انجاز ناقص",color:"#192f36",number:7},{id:3,name:"انجاز صفر",color:"#831018",number:3}],ambassadorsAchievementList:null,most_read:null}}};const de=(0,L.Z)(ne,[["render",_]]);var ce=de},84621:function(e,a,t){e.exports=t.p+"img/reader.b5157672.png"}}]);
//# sourceMappingURL=1222.4db98a6b.js.map